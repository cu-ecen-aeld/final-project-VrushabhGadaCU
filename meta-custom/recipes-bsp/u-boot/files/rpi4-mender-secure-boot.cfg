# Mender boot integration
CONFIG_BOOTCOUNT_LIMIT=y
CONFIG_BOOTCOUNT_ENV=y
CONFIG_BOOTCOMMAND="run mender_setup; run mender_try_to_recover; mmc dev ${mender_uboot_dev}; load ${mender_uboot_root} ${kernel_addr_r} /boot/fitImage; bootm ${kernel_addr_r}"

# FIT image support for secure boot
CONFIG_FIT=y
CONFIG_FIT_SIGNATURE=y
CONFIG_FIT_VERBOSE=y
CONFIG_RSA=y
CONFIG_SPL_FIT_SIGNATURE=y

# Environment storage
CONFIG_ENV_IS_IN_FAT=y
CONFIG_ENV_FAT_INTERFACE="mmc"
CONFIG_ENV_FAT_DEVICE_AND_PART="0:1"

# Additional security features
CONFIG_FIT_ENABLE_SHA256_SUPPORT=y
CONFIG_FIT_ENABLE_RSASSA_PSS_SUPPORT=y